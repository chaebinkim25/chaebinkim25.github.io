:root { --bg:#0b0f14; --panel:#121821; --muted:#94a3b8; --text:#e5e7eb; --accent:#60a5fa; --card:#0f172a; --border:#1f2a37; }
*{ box-sizing:border-box }
html,body{ height:100% }
body{ margin:0; background:var(--bg); color:var(--text); font:14px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Apple SD Gothic Neo, sans-serif }
.app{ display:grid; grid-template-columns:260px 1fr 320px; grid-template-rows:auto 1fr auto; gap:12px; padding:12px; height:100% }
header{ grid-column:1/4; display:flex; align-items:center; gap:10px; background:var(--panel); border:1px solid var(--border); border-radius:14px; padding:10px 14px }
header h1{ font-size:16px; margin:0; letter-spacing:.2px }
header .grow{ flex:1 }
.btn,button{ background:#0b1220; border:1px solid var(--border); color:var(--text); padding:8px 10px; border-radius:10px; cursor:pointer }
.btn.primary{ background:var(--accent); color:#0b1220; border:none }
.col{ background:var(--panel); border:1px solid var(--border); border-radius:14px; overflow:hidden; display:flex; flex-direction:column; min-height:0 }
.col h3{ margin:0; padding:10px 12px; border-bottom:1px solid var(--border); color:#cbd5e1; font-size:13px; letter-spacing:.3px; text-transform:uppercase }
.sources{ padding:10px; gap:8px; display:flex; flex-direction:column }
.tag{ display:inline-flex; padding:6px 8px; border:1px solid var(--border); border-radius:999px; align-items:center; gap:6px; color:var(--muted); cursor:pointer }
.tag input{ margin:0 }
.chat{ display:flex; flex-direction:column }
.messages{ flex:1; overflow:auto; padding:16px; display:flex; flex-direction:column; gap:12px }
.msg{ display:flex; gap:10px }
.msg .bubble{ max-width:80%; background:var(--card); border:1px solid var(--border); padding:10px 12px; border-radius:12px; white-space:pre-wrap; word-break:break-word }
.msg.user .bubble{ background:#162033; border-color:#253046 }
.msg .avatar{ width:28px; height:28px; border-radius:999px; background:#0e1525; border:1px solid var(--border); display:grid; place-items:center; font-size:12px; color:#93c5fd }
.composer{ display:flex; gap:8px; padding:12px; border-top:1px solid var(--border) }
.composer textarea{ flex:1; resize:none; height:66px; padding:10px 12px; border-radius:10px; border:1px solid var(--border); background:#0e1525; color:var(--text) }
.right{ display:flex; flex-direction:column }
.right .panel{ padding:10px; overflow:auto }
.kv{ display:grid; grid-template-columns:120px 1fr; gap:6px 10px; align-items:center }
.kv label{ color:var(--muted); font-size:12px }
.input{ background:#0e1525; border:1px solid var(--border); border-radius:10px; padding:8px 10px; color:var(--text); width:100% }
.range{ width:100% }
.pill{ font-size:12px; color:var(--muted); padding:6px 8px; border:1px dashed var(--border); border-radius:8px }
.note{ color:#93c5fd; font-size:12px }
.cite{ color:#9ca3af; font-size:12px; border-left:2px solid #1f2937; padding-left:8px; margin:6px 0 }
footer{ grid-column:1/4; text-align:center; color:var(--muted); font-size:12px }
.danger{ color:#fca5a5 }
.ok{ color:#86efac }
.flex{ display:flex; gap:8px; align-items:center }
@media (max-width:1100px){ .app{ grid-template-columns:1fr; grid-template-rows:auto auto 1fr auto auto } .col.right{ order:3 } }
